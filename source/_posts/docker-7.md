---
title: Docker(七)之网络基础配置
date: 2017-04-23 20:39:51
tags: [Docker]
---

## 简介
+ `Docker`提供了映射容器端口到宿主主机和容器互联机制来为容器提供网络服务；

## 目的
+ 学习使用端口映射机制来将容器内应用服务提供给外部网络；
+ 通过容器互联，让多个容器(同一宿主主机)之间进行快捷的网络通信；

<!-- more -->

## 端口映射实现访问容器

### 从外部访问容器应用
+ 若在启动容器的时候，不指定对应参数，在容器外部是无法通过网络来访问容器内的网络应用和服务的；
+ 当容器中运行一些网络应用，需要外部访问这些应用时，可以通过`-P`或`-p`参数来映射端口；
+ 当使用`-P`参数时，`Docker`会随机映射一个宿主主机未占用的端口至容器内部开放的网络端口；

```bash
# 下载nginx镜像
$ docker pull nginx

# 创建一个新容器
$ docker run -d -P nginx

# 查看正在运行容器
$ docker ps

# 查看应用的信息
$ docker logs -f NAME
```

+ 当使用`-p`参数时，可以指定要映射的端口，并且在一个指定端口上只可绑定一个正在运行的容器；

```bash
# 创建一个新容器
$ docker run -d -p 80:80 nginx
```

+ 支持的格式：
    + `IP:Host-Port:Container-Port`
    + `IP::Container-Port`
    + `Host-Port:Container-Port`

### 映射所有接口地址